<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Hawk Park — Login</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="center">
    <div class="card login-card">
      <h1>Hawk Park</h1>
      <form id="loginForm" novalidate>
  <label for="username" class="sr-only">Email or Username</label>
  <input id="username" name="username" placeholder="Email or Username" required aria-required="true" aria-describedby="username-error">
  <div id="username-error" class="field-error" style="color:#b00020;display:none;font-size:0.85rem;margin-top:6px;">Please fill out this field.</div>

  <label for="password" class="sr-only">Password</label>
  <input id="password" name="password" type="password" placeholder="Password" required aria-required="true" aria-describedby="password-error">
  <div id="password-error" class="field-error" style="color:#b00020;display:none;font-size:0.85rem;margin-top:6px;">Please fill out this field.</div>

  <div id="login-error" role="alert" aria-live="assertive" style="color:#b00020;display:none;margin-top:8px;font-size:0.95rem;"></div>

        <button id="loginBtn" type="submit" disabled>Login</button>
      </form>
      <p class="muted">Demo: fields are required before continuing.</p>
    </div>
  </div>

  <script>
    (function(){
      const form = document.getElementById('loginForm');
      const username = document.getElementById('username');
      const password = document.getElementById('password');
  const loginBtn = document.getElementById('loginBtn');
  const error = document.getElementById('login-error');
  const usernameError = document.getElementById('username-error');
  const passwordError = document.getElementById('password-error');

      // Enable button only when both fields have some text
      function updateButtonState(){
        const ok = username.value.trim() !== '' && password.value.trim() !== '';
        loginBtn.disabled = !ok;
        if(ok){
          error.style.display = 'none';
          username.removeAttribute('aria-invalid');
          password.removeAttribute('aria-invalid');
          usernameError.style.display = 'none';
          passwordError.style.display = 'none';
        }
      }

      username.addEventListener('input', updateButtonState);
      password.addEventListener('input', updateButtonState);

      // Show small message on blur if field is empty
      username.addEventListener('blur', () => {
        if(username.value.trim() === ''){
          usernameError.style.display = 'block';
          username.setAttribute('aria-invalid', 'true');
        } else {
          usernameError.style.display = 'none';
          username.removeAttribute('aria-invalid');
        }
      });

      password.addEventListener('blur', () => {
        if(password.value.trim() === ''){
          passwordError.style.display = 'block';
          password.setAttribute('aria-invalid', 'true');
        } else {
          passwordError.style.display = 'none';
          password.removeAttribute('aria-invalid');
        }
      });

      // On submit, validate once more and then continue
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        const userVal = username.value.trim();
        const passVal = password.value.trim();
        if(!userVal || !passVal){
          error.textContent = 'Please enter both username and password.';
          error.style.display = 'block';
          if(!userVal){
            username.setAttribute('aria-invalid', 'true');
            usernameError.style.display = 'block';
          }
          if(!passVal){
            password.setAttribute('aria-invalid', 'true');
            passwordError.style.display = 'block';
          }
          return;
        }

        // All good — proceed to home page (demo behavior)
        window.location.href = 'home.html';
      });

      // Initialize
      updateButtonState();
    })();
  </script>
</body>
</html>